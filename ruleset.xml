<?xml version="1.0"?>
<ruleset name="Custom ruleset"
         xmlns="http://pmd.sourceforge.net/ruleset/2.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://pmd.sourceforge.net/ruleset/2.0.0 https://pmd.sourceforge.io/ruleset_2_0_0.xsd">

    <description>
        PMD ruleset for Eclipse plugin project - analyzes only Java source files
    </description>

    <!-- Include only Java source files in src directories -->
    <exclude-pattern>.*/target/.*</exclude-pattern>
    <exclude-pattern>.*/bin/.*</exclude-pattern>
    <exclude-pattern>.*/p2/.*</exclude-pattern>
    <exclude-pattern>.*/build/.*</exclude-pattern>
    <exclude-pattern>.*/generated/.*</exclude-pattern>
    <exclude-pattern>.*/\.git/.*</exclude-pattern>
    <exclude-pattern>.*/\.settings/.*</exclude-pattern>
    <exclude-pattern>.*/\.mvn/.*</exclude-pattern>
    <exclude-pattern>.*/sandbox1\.2\.1/.*</exclude-pattern>
    <exclude-pattern>.*/plugins/.*\.jar</exclude-pattern>
    <exclude-pattern>.*/features/.*\.jar</exclude-pattern>
    <exclude-pattern>.*/testresources/.*</exclude-pattern>
    
    <!-- Exclude binary and non-source files -->
    <exclude-pattern>.*\.class</exclude-pattern>
    <exclude-pattern>.*\.jar</exclude-pattern>
    <exclude-pattern>.*\.war</exclude-pattern>
    <exclude-pattern>.*\.ear</exclude-pattern>
    <exclude-pattern>.*\.zip</exclude-pattern>
    <exclude-pattern>.*\.tar\.gz</exclude-pattern>
    <exclude-pattern>.*\.png</exclude-pattern>
    <exclude-pattern>.*\.jpg</exclude-pattern>
    <exclude-pattern>.*\.jpeg</exclude-pattern>
    <exclude-pattern>.*\.gif</exclude-pattern>
    <exclude-pattern>.*\.svg</exclude-pattern>
    <exclude-pattern>.*\.ico</exclude-pattern>
    <exclude-pattern>.*\.pdf</exclude-pattern>
    <exclude-pattern>.*\.ttf</exclude-pattern>
    <exclude-pattern>.*\.woff.*</exclude-pattern>

    <!-- Import recommended rulesets -->
    <rule ref="category/java/bestpractices.xml">
        <!-- Exclude rules that are suppressed in pmd-suppressions.xml -->
        <exclude name="AbstractClassWithoutAbstractMethod"/>
        <exclude name="UseVarargs"/>
    </rule>
    
    <rule ref="category/java/codestyle.xml">
        <!-- Exclude rules suppressed in pmd-suppressions.xml -->
        <exclude name="ShortVariable"/>
        <exclude name="LongVariable"/>
        <exclude name="ShortMethodName"/>
        <exclude name="ShortClassName"/>
        <exclude name="OnlyOneReturn"/>
        <exclude name="AtLeastOneConstructor"/>
        <exclude name="FieldDeclarationsShouldBeAtStartOfClass"/>
        <exclude name="CommentDefaultAccessModifier"/>
        <exclude name="ConfusingTernary"/>
        <exclude name="LinguisticNaming"/>
        <exclude name="UseUnderscoresInNumericLiterals"/>
        <exclude name="MethodNamingConventions"/>
        <exclude name="ClassNamingConventions"/>
        <exclude name="FieldNamingConventions"/>
        <exclude name="FormalParameterNamingConventions"/>
        <exclude name="LocalVariableNamingConventions"/>
        <exclude name="CallSuperInConstructor"/>
        <exclude name="CommentSize"/>
    </rule>
    
    <rule ref="category/java/design.xml"/>
    
    <rule ref="category/java/documentation.xml">
        <!-- Exclude documentation rules that are suppressed -->
        <exclude name="CommentRequired"/>
        <exclude name="CommentSize"/>
    </rule>
    
    <rule ref="category/java/errorprone.xml"/>
    
    <rule ref="category/java/multithreading.xml"/>
    
    <rule ref="category/java/performance.xml"/>
    
    <rule ref="category/java/security.xml"/>

</ruleset>
